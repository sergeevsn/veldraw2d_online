<!DOCTYPE html>
<html>
<head>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.0/css/bulma.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.plot.ly/plotly-2.32.0.min.js" charset="utf-8"></script>
    <meta charset="UTF-8">
    <style>
      table {
      border: solid 1px;
      text-align:left;
      border-color: lightgray;
      padding:7px;
      }
      
      table {
        width: 300px;
        background:#6d72b1;
      }
      input {
         width: 80px;
      }

      .tag {
        width: 300px;
      }
    
    </style>
    
</head>

<body>
    <section class="hero is-primary">
        <div class="hero-body pl-12 pt-4 pb-4">
          <p class="title">VelDraw2D</p>
          <p class="subtitle">Создание простых глубинно-скоростных моделей онлайн.</p>
          <p>
            <strong>Автор </strong> <a href="https://sergeevsergei.ru">Сергей Сергеев</a>. 
           
            Приложение использует <a href="https://flask.palletsprojects.com/">Flask</a>, 
            <a href="https://plotly.com/javascript/">Plotly.js</a>, <a href="https://github.com/equinor/segyio">Segyio</a>, 
            <a href="https://opencv.org/get-started/">OpenCV</a> и <a href="https://bulma.io">Bulma</a>.
         
          </p>
        </div>
      </section>

    <section class="section pb-0">       
        <div class="columns">
            <div id="controlPanel" class="column is-narrow">
              <div class="box" style="width: 360px">
                <span class="tag is-light is-large is-rounded mb-4">Новая модель</span>
                <table class ="table is-narrow" id="tblNewModel" >              
                <tr><td>Отсчетов по X:</td><td><input type="number" id="xSamples" value="501" min="1" max="2000"  size="5"></td></tr>
                <tr><td>Отсчетов по Z:</td><td><input type="number" id="zSamples" value="501" min="1" max="2000" size="5"></td></tr>               
                <tr><td>Шаг по X, m:</td><td><input type="number" id="xStep" value="5" min="1" max="100" size="5"></td></tr> 
                <tr><td>Шаг по Z, m:</td><td><input type="number" id="zStep" value="5" min="1" max="100" size="5" ></td></tr>
                <tr><td>Фоновая скорость:</td><td><input type="number" id="bckgVel" value="2000" min="1" max="10000"  size="5"></td></tr>
                <br>
                <tr><td><button title="Создать новую модель с указанными выше параметрами. Старая будет потеряна." class="button is-primary is-normal" id="btnNewModel">Новая модель</button></td></tr>
              </table>            
           
              
              <span class="tag is-light is-large is-rounded mb-4">Тип фигуры</span><br>
              <div class="select" >
                <select id="selMode">
                  <option value="rectangle" title="Потяните мышью в любом месте модели, с этой точки начнется отрисовка прямоугольной формы. После завершения появится форма для добавления фигуры в модель. Перед добавлением форму можно перетаскивать и править узлы">Прямоугольник</option>
                  <option value="path"  title="Потяните мышью в любом месте модели, начнется отрисовка произвольной замкнутой формы. Первая точка является так же и последней. После завершения появится форма для добавления фигуры в модель. Перед добавлением форму можно перетаскивать и править узлы">Произвольная замкнутая фигура</option>
                  <option value="point" title="Кликните в любом месте модели, в указанной точке появится точечный дифрактор. В появившейся форме можно будет указать его радиус и скорость. При достаточно больших радиусах фигура по сути будет являться телом в форме окружности">Дифрактор/круглое тело</option>
                </select>
              </div>

              <br><br> 

              <div id="tblAddFigure" style = "display:none">
                <span class="tag is-light is-rounded ">Вставка в модель</span>    
                <table class ="table mt-5"  >  
                <tr>                     
                  <td>Cкорость объекта:</td><td><input type="number" id="shapeVel" value="3000" min="1" max="10000"  size="5"> </td></tr> 
                  <tr id = "trDiffRadius" style="display: none"><td>Радиус, м:</td><td><input id="diffRadius" type="number" value="10" min="1" max="100" size="5"></td></tr>
                  <tr><td><button title="Заполнить указанной скоростью фигуру и записать значения в соответствующую область модели" class="button is-primary is-small" id="btnAddFigure">Добавить в модель</button></td>
                  <td><button title="Удалить фигуру, чтобы можно было нарисовать новую" class="button is-primary is-small" id="btnRemoveFigure">Удалить</button></td>
                  </tr>  
                </table>
                <br>
              </div>
                            
         
              <span class="tag is-light is-large mb-4 mr-4 is-rounded">Сохранение</span><br>
              <table class ="table">
                <tr><td style="width: 150px; text-align: center"><button title="Сохранить в файл формата SEG-Y. См https://en.wikipedia.org/wiki/SEG-Y" class="button is-primary is-normal" id="btnSaveSegy">SEG-Y</button></td>
                <td><button title="Сохранить в двоичный файл. Отсчеты будут записаны один за другим, потрассно. При преобразовании в двумерный массив, первый индекс будет X, второй Y" 
                  class="button is-primary is-normal" id="btnSaveBin">Binary</button></td></tr>
              </table>
       
            </div>  
          </div>

          <div  class="column is-narrow p-2">
            <div class="box" style="width: 930px">
              <div id="heatmapDiv"></div>        
                 
            </div>   
          </div>

      

          
        </div>
    </section>  
   
    
<script src="scripts.js"> </script>


</body>
</html>
